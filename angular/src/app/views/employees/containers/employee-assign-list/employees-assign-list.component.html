<oz-finance-page-header [heading]="'Assign Employees'"></oz-finance-page-header>

<div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
  <div class="md:grid md:grid-cols-3 md:gap-6">
    <div class="md:col-span-1"></div>
    <div class="mt-5 md:mt-0 md:col-span-2">
      <form (ngSubmit)="submit()" [formGroup]="filterForm" id="filterForm">
        <div class="grid grid-cols-6 gap-6">
          <div [ngClass]="'sm:col-span-3'" class="col-span-6">
            <label
              class="block text-sm font-medium leading-5 text-gray-700"
              for="year"
              >Year</label
            >
            <ng-select
              [clearable]="false"
              [items]="years"
              class="mt-1 block form-select custom w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5"
              formControlName="year"
              id="year">
            </ng-select>
          </div>

          <div [@filterAnimation] class="col-span-6 sm:col-span-3">
            <label
              class="block text-sm font-medium leading-5 text-gray-700"
              for="month"
              >Month</label
            >
            <ng-select
              [clearable]="false"
              [items]="months"
              [bindLabel]="'value'"
              [bindValue]="'key'"
              class="mt-1 block form-select custom w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5"
              formControlName="month"
              id="month">
            </ng-select>
          </div>
        </div>
      </form>
    </div>
  </div>

  <div class="flex justify-end pt-3 text-right">
    <span class="w-full md:w-auto flex rounded-md shadow-sm">
      <button
        [class.hover:bg-indigo-500]="true"
        class="w-full h-10 md:w-auto inline-flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out"
        form="filterForm"
        type="submit">
        Save
      </button>
    </span>
  </div>
</div>

<div
  class="overflow-x-hidden overflow-y-auto max-w-screen-8xl mx-auto sm:px-6 lg:px-8 py-6">
  <oz-finance-datatable
    (addHours)="addHours($event)"
    (editHours)="editHours($event)"
    (pageUpdated)="pageUpdated($event)"
    (deleteHours)="deleteHours($event)"
    [allColumns]="preferences?.all_columns"
    [buttonConfig]="buttonConfig"
    [columns]="preferences?.columns"
    [defaultColumns]="preferences?.default_columns"
    [defaultFilters]="preferences?.default_filters"
    [count]="data?.count"
    [filters]="preferences?.filters"
    [isIndividualEdit]="false"
    [isIndividualDeletion]="false"
    [isLoading]="isLoading"
    [rowMenuConfig]="rowMenuConfig"
    [rows]="data?.data"
    [sortable]="false"
    [title]="'Employees'"
    [showDetailRow]="true"
    [detailConfig]="detailConfig"
    [isAssignEmployee]="true">
  </oz-finance-datatable>
</div>

<oz-finance-employee-assign-modal
  #employeeAssignModal></oz-finance-employee-assign-modal>
<oz-finance-confirm-modal #confirmModal></oz-finance-confirm-modal>
